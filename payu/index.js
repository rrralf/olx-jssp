!function(){function t(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t,e){t(e={exports:{}},e.exports)}((function(t){
/*
   * [js-sha512]{@link https://github.com/emn178/js-sha512}
   *
   * @version 0.8.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2018
   * @license MIT
   */
!function(){var s="input is invalid type",i="object"==typeof window,h=i?window:{};h.JS_SHA512_NO_WINDOW&&(i=!1);var r=!i&&"object"==typeof self;!h.JS_SHA512_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?h=e:r&&(h=self);var a=!h.JS_SHA512_NO_COMMON_JS&&t.exports,n=!h.JS_SHA512_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,o="0123456789abcdef".split(""),p=[-2147483648,8388608,32768,128],d=[24,16,8,0],l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=["hex","array","digest","arrayBuffer"],u=[];!h.JS_SHA512_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!n||!h.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var y=function(t,e){return function(s){return new b(e,!0).update(s)[t]()}},f=function(t){var e=y("hex",t);e.create=function(){return new b(t)},e.update=function(t){return e.create().update(t)};for(var s=0;s<c.length;++s){var i=c[s];e[i]=y(i,t)}return e},m=function(t,e){return function(s,i){return new v(s,e,!0).update(i)[t]()}},g=function(t){var e=m("hex",t);e.create=function(e){return new v(e,t)},e.update=function(t,s){return e.create(t).update(s)};for(var s=0;s<c.length;++s){var i=c[s];e[i]=m(i,t)}return e};function b(t,e){e?(u[0]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=u[16]=u[17]=u[18]=u[19]=u[20]=u[21]=u[22]=u[23]=u[24]=u[25]=u[26]=u[27]=u[28]=u[29]=u[30]=u[31]=u[32]=0,this.blocks=u):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384==t?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):256==t?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):224==t?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=t,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}function v(t,e,i){var h,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(s);if(null===t)throw new Error(s);if(n&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||n&&ArrayBuffer.isView(t)))throw new Error(s);h=!0}var a=t.length;if(!h){for(var o,p=[],d=(a=t.length,0),l=0;l<a;++l)(o=t.charCodeAt(l))<128?p[d++]=o:o<2048?(p[d++]=192|o>>6,p[d++]=128|63&o):o<55296||o>=57344?(p[d++]=224|o>>12,p[d++]=128|o>>6&63,p[d++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++l)),p[d++]=240|o>>18,p[d++]=128|o>>12&63,p[d++]=128|o>>6&63,p[d++]=128|63&o);t=p}t.length>128&&(t=new b(e,!0).update(t).array());var c=[],u=[];for(l=0;l<128;++l){var y=t[l]||0;c[l]=92^y,u[l]=54^y}b.call(this,e,i),this.update(u),this.oKeyPad=c,this.inner=!0,this.sharedMemory=i}b.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var e,i=typeof t;if("string"!==i){if("object"!==i)throw new Error(s);if(null===t)throw new Error(s);if(n&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||n&&ArrayBuffer.isView(t)))throw new Error(s);e=!0}for(var h,r,a=0,o=t.length,p=this.blocks;a<o;){if(this.hashed&&(this.hashed=!1,p[0]=this.block,p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=p[16]=p[17]=p[18]=p[19]=p[20]=p[21]=p[22]=p[23]=p[24]=p[25]=p[26]=p[27]=p[28]=p[29]=p[30]=p[31]=p[32]=0),e)for(r=this.start;a<o&&r<128;++a)p[r>>2]|=t[a]<<d[3&r++];else for(r=this.start;a<o&&r<128;++a)(h=t.charCodeAt(a))<128?p[r>>2]|=h<<d[3&r++]:h<2048?(p[r>>2]|=(192|h>>6)<<d[3&r++],p[r>>2]|=(128|63&h)<<d[3&r++]):h<55296||h>=57344?(p[r>>2]|=(224|h>>12)<<d[3&r++],p[r>>2]|=(128|h>>6&63)<<d[3&r++],p[r>>2]|=(128|63&h)<<d[3&r++]):(h=65536+((1023&h)<<10|1023&t.charCodeAt(++a)),p[r>>2]|=(240|h>>18)<<d[3&r++],p[r>>2]|=(128|h>>12&63)<<d[3&r++],p[r>>2]|=(128|h>>6&63)<<d[3&r++],p[r>>2]|=(128|63&h)<<d[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=128?(this.block=p[32],this.start=r-128,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},b.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[32]=this.block,t[e>>2]|=p[3&e],this.block=t[32],e>=112&&(this.hashed||this.hash(),t[0]=this.block,t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=t[16]=t[17]=t[18]=t[19]=t[20]=t[21]=t[22]=t[23]=t[24]=t[25]=t[26]=t[27]=t[28]=t[29]=t[30]=t[31]=t[32]=0),t[30]=this.hBytes<<3|this.bytes>>>29,t[31]=this.bytes<<3,this.hash()}},b.prototype.hash=function(){var t,e,s,i,h,r,a,n,o,p,d,c,u,y,f,m,g,b,v,w,I,N,_,A,P,C=this.h0h,S=this.h0l,U=this.h1h,E=this.h1l,R=this.h2h,T=this.h2l,x=this.h3h,D=this.h3l,k=this.h4h,M=this.h4l,B=this.h5h,L=this.h5l,j=this.h6h,O=this.h6l,z=this.h7h,q=this.h7l,V=this.blocks;for(t=32;t<160;t+=2)e=((w=V[t-30])>>>1|(I=V[t-29])<<31)^(w>>>8|I<<24)^w>>>7,s=(I>>>1|w<<31)^(I>>>8|w<<24)^(I>>>7|w<<25),i=((w=V[t-4])>>>19|(I=V[t-3])<<13)^(I>>>29|w<<3)^w>>>6,h=(I>>>19|w<<13)^(w>>>29|I<<3)^(I>>>6|w<<26),w=V[t-32],I=V[t-31],o=((N=V[t-14])>>>16)+(w>>>16)+(e>>>16)+(i>>>16)+((n=(65535&N)+(65535&w)+(65535&e)+(65535&i)+((a=((_=V[t-13])>>>16)+(I>>>16)+(s>>>16)+(h>>>16)+((r=(65535&_)+(65535&I)+(65535&s)+(65535&h))>>>16))>>>16))>>>16),V[t]=o<<16|65535&n,V[t+1]=a<<16|65535&r;var F=C,J=S,H=U,$=E,G=R,K=T,W=x,Z=D,Y=k,X=M,Q=B,tt=L,et=j,st=O,it=z,ht=q;for(m=H&G,g=$&K,t=0;t<160;t+=8)e=(F>>>28|J<<4)^(J>>>2|F<<30)^(J>>>7|F<<25),s=(J>>>28|F<<4)^(F>>>2|J<<30)^(F>>>7|J<<25),i=(Y>>>14|X<<18)^(Y>>>18|X<<14)^(X>>>9|Y<<23),h=(X>>>14|Y<<18)^(X>>>18|Y<<14)^(Y>>>9|X<<23),b=(p=F&H)^F&G^m,v=(d=J&$)^J&K^g,A=Y&Q^~Y&et,P=X&tt^~X&st,w=V[t],I=V[t+1],w=(o=((N=l[t])>>>16)+(w>>>16)+(A>>>16)+(i>>>16)+(it>>>16)+((n=(65535&N)+(65535&w)+(65535&A)+(65535&i)+(65535&it)+((a=((_=l[t+1])>>>16)+(I>>>16)+(P>>>16)+(h>>>16)+(ht>>>16)+((r=(65535&_)+(65535&I)+(65535&P)+(65535&h)+(65535&ht))>>>16))>>>16))>>>16))<<16|65535&n,I=a<<16|65535&r,N=(o=(b>>>16)+(e>>>16)+((n=(65535&b)+(65535&e)+((a=(v>>>16)+(s>>>16)+((r=(65535&v)+(65535&s))>>>16))>>>16))>>>16))<<16|65535&n,_=a<<16|65535&r,it=(o=(W>>>16)+(w>>>16)+((n=(65535&W)+(65535&w)+((a=(Z>>>16)+(I>>>16)+((r=(65535&Z)+(65535&I))>>>16))>>>16))>>>16))<<16|65535&n,ht=a<<16|65535&r,e=((W=(o=(N>>>16)+(w>>>16)+((n=(65535&N)+(65535&w)+((a=(_>>>16)+(I>>>16)+((r=(65535&_)+(65535&I))>>>16))>>>16))>>>16))<<16|65535&n)>>>28|(Z=a<<16|65535&r)<<4)^(Z>>>2|W<<30)^(Z>>>7|W<<25),s=(Z>>>28|W<<4)^(W>>>2|Z<<30)^(W>>>7|Z<<25),i=(it>>>14|ht<<18)^(it>>>18|ht<<14)^(ht>>>9|it<<23),h=(ht>>>14|it<<18)^(ht>>>18|it<<14)^(it>>>9|ht<<23),b=(c=W&F)^W&H^p,v=(u=Z&J)^Z&$^d,A=it&Y^~it&Q,P=ht&X^~ht&tt,w=V[t+2],I=V[t+3],w=(o=((N=l[t+2])>>>16)+(w>>>16)+(A>>>16)+(i>>>16)+(et>>>16)+((n=(65535&N)+(65535&w)+(65535&A)+(65535&i)+(65535&et)+((a=((_=l[t+3])>>>16)+(I>>>16)+(P>>>16)+(h>>>16)+(st>>>16)+((r=(65535&_)+(65535&I)+(65535&P)+(65535&h)+(65535&st))>>>16))>>>16))>>>16))<<16|65535&n,I=a<<16|65535&r,N=(o=(b>>>16)+(e>>>16)+((n=(65535&b)+(65535&e)+((a=(v>>>16)+(s>>>16)+((r=(65535&v)+(65535&s))>>>16))>>>16))>>>16))<<16|65535&n,_=a<<16|65535&r,et=(o=(G>>>16)+(w>>>16)+((n=(65535&G)+(65535&w)+((a=(K>>>16)+(I>>>16)+((r=(65535&K)+(65535&I))>>>16))>>>16))>>>16))<<16|65535&n,st=a<<16|65535&r,e=((G=(o=(N>>>16)+(w>>>16)+((n=(65535&N)+(65535&w)+((a=(_>>>16)+(I>>>16)+((r=(65535&_)+(65535&I))>>>16))>>>16))>>>16))<<16|65535&n)>>>28|(K=a<<16|65535&r)<<4)^(K>>>2|G<<30)^(K>>>7|G<<25),s=(K>>>28|G<<4)^(G>>>2|K<<30)^(G>>>7|K<<25),i=(et>>>14|st<<18)^(et>>>18|st<<14)^(st>>>9|et<<23),h=(st>>>14|et<<18)^(st>>>18|et<<14)^(et>>>9|st<<23),b=(y=G&W)^G&F^c,v=(f=K&Z)^K&J^u,A=et&it^~et&Y,P=st&ht^~st&X,w=V[t+4],I=V[t+5],w=(o=((N=l[t+4])>>>16)+(w>>>16)+(A>>>16)+(i>>>16)+(Q>>>16)+((n=(65535&N)+(65535&w)+(65535&A)+(65535&i)+(65535&Q)+((a=((_=l[t+5])>>>16)+(I>>>16)+(P>>>16)+(h>>>16)+(tt>>>16)+((r=(65535&_)+(65535&I)+(65535&P)+(65535&h)+(65535&tt))>>>16))>>>16))>>>16))<<16|65535&n,I=a<<16|65535&r,N=(o=(b>>>16)+(e>>>16)+((n=(65535&b)+(65535&e)+((a=(v>>>16)+(s>>>16)+((r=(65535&v)+(65535&s))>>>16))>>>16))>>>16))<<16|65535&n,_=a<<16|65535&r,Q=(o=(H>>>16)+(w>>>16)+((n=(65535&H)+(65535&w)+((a=($>>>16)+(I>>>16)+((r=(65535&$)+(65535&I))>>>16))>>>16))>>>16))<<16|65535&n,tt=a<<16|65535&r,e=((H=(o=(N>>>16)+(w>>>16)+((n=(65535&N)+(65535&w)+((a=(_>>>16)+(I>>>16)+((r=(65535&_)+(65535&I))>>>16))>>>16))>>>16))<<16|65535&n)>>>28|($=a<<16|65535&r)<<4)^($>>>2|H<<30)^($>>>7|H<<25),s=($>>>28|H<<4)^(H>>>2|$<<30)^(H>>>7|$<<25),i=(Q>>>14|tt<<18)^(Q>>>18|tt<<14)^(tt>>>9|Q<<23),h=(tt>>>14|Q<<18)^(tt>>>18|Q<<14)^(Q>>>9|tt<<23),b=(m=H&G)^H&W^y,v=(g=$&K)^$&Z^f,A=Q&et^~Q&it,P=tt&st^~tt&ht,w=V[t+6],I=V[t+7],w=(o=((N=l[t+6])>>>16)+(w>>>16)+(A>>>16)+(i>>>16)+(Y>>>16)+((n=(65535&N)+(65535&w)+(65535&A)+(65535&i)+(65535&Y)+((a=((_=l[t+7])>>>16)+(I>>>16)+(P>>>16)+(h>>>16)+(X>>>16)+((r=(65535&_)+(65535&I)+(65535&P)+(65535&h)+(65535&X))>>>16))>>>16))>>>16))<<16|65535&n,I=a<<16|65535&r,N=(o=(b>>>16)+(e>>>16)+((n=(65535&b)+(65535&e)+((a=(v>>>16)+(s>>>16)+((r=(65535&v)+(65535&s))>>>16))>>>16))>>>16))<<16|65535&n,_=a<<16|65535&r,Y=(o=(F>>>16)+(w>>>16)+((n=(65535&F)+(65535&w)+((a=(J>>>16)+(I>>>16)+((r=(65535&J)+(65535&I))>>>16))>>>16))>>>16))<<16|65535&n,X=a<<16|65535&r,F=(o=(N>>>16)+(w>>>16)+((n=(65535&N)+(65535&w)+((a=(_>>>16)+(I>>>16)+((r=(65535&_)+(65535&I))>>>16))>>>16))>>>16))<<16|65535&n,J=a<<16|65535&r;o=(C>>>16)+(F>>>16)+((n=(65535&C)+(65535&F)+((a=(S>>>16)+(J>>>16)+((r=(65535&S)+(65535&J))>>>16))>>>16))>>>16),this.h0h=o<<16|65535&n,this.h0l=a<<16|65535&r,o=(U>>>16)+(H>>>16)+((n=(65535&U)+(65535&H)+((a=(E>>>16)+($>>>16)+((r=(65535&E)+(65535&$))>>>16))>>>16))>>>16),this.h1h=o<<16|65535&n,this.h1l=a<<16|65535&r,o=(R>>>16)+(G>>>16)+((n=(65535&R)+(65535&G)+((a=(T>>>16)+(K>>>16)+((r=(65535&T)+(65535&K))>>>16))>>>16))>>>16),this.h2h=o<<16|65535&n,this.h2l=a<<16|65535&r,o=(x>>>16)+(W>>>16)+((n=(65535&x)+(65535&W)+((a=(D>>>16)+(Z>>>16)+((r=(65535&D)+(65535&Z))>>>16))>>>16))>>>16),this.h3h=o<<16|65535&n,this.h3l=a<<16|65535&r,o=(k>>>16)+(Y>>>16)+((n=(65535&k)+(65535&Y)+((a=(M>>>16)+(X>>>16)+((r=(65535&M)+(65535&X))>>>16))>>>16))>>>16),this.h4h=o<<16|65535&n,this.h4l=a<<16|65535&r,o=(B>>>16)+(Q>>>16)+((n=(65535&B)+(65535&Q)+((a=(L>>>16)+(tt>>>16)+((r=(65535&L)+(65535&tt))>>>16))>>>16))>>>16),this.h5h=o<<16|65535&n,this.h5l=a<<16|65535&r,o=(j>>>16)+(et>>>16)+((n=(65535&j)+(65535&et)+((a=(O>>>16)+(st>>>16)+((r=(65535&O)+(65535&st))>>>16))>>>16))>>>16),this.h6h=o<<16|65535&n,this.h6l=a<<16|65535&r,o=(z>>>16)+(it>>>16)+((n=(65535&z)+(65535&it)+((a=(q>>>16)+(ht>>>16)+((r=(65535&q)+(65535&ht))>>>16))>>>16))>>>16),this.h7h=o<<16|65535&n,this.h7l=a<<16|65535&r},b.prototype.hex=function(){this.finalize();var t=this.h0h,e=this.h0l,s=this.h1h,i=this.h1l,h=this.h2h,r=this.h2l,a=this.h3h,n=this.h3l,p=this.h4h,d=this.h4l,l=this.h5h,c=this.h5l,u=this.h6h,y=this.h6l,f=this.h7h,m=this.h7l,g=this.bits,b=o[t>>28&15]+o[t>>24&15]+o[t>>20&15]+o[t>>16&15]+o[t>>12&15]+o[t>>8&15]+o[t>>4&15]+o[15&t]+o[e>>28&15]+o[e>>24&15]+o[e>>20&15]+o[e>>16&15]+o[e>>12&15]+o[e>>8&15]+o[e>>4&15]+o[15&e]+o[s>>28&15]+o[s>>24&15]+o[s>>20&15]+o[s>>16&15]+o[s>>12&15]+o[s>>8&15]+o[s>>4&15]+o[15&s]+o[i>>28&15]+o[i>>24&15]+o[i>>20&15]+o[i>>16&15]+o[i>>12&15]+o[i>>8&15]+o[i>>4&15]+o[15&i]+o[h>>28&15]+o[h>>24&15]+o[h>>20&15]+o[h>>16&15]+o[h>>12&15]+o[h>>8&15]+o[h>>4&15]+o[15&h]+o[r>>28&15]+o[r>>24&15]+o[r>>20&15]+o[r>>16&15]+o[r>>12&15]+o[r>>8&15]+o[r>>4&15]+o[15&r]+o[a>>28&15]+o[a>>24&15]+o[a>>20&15]+o[a>>16&15]+o[a>>12&15]+o[a>>8&15]+o[a>>4&15]+o[15&a];return g>=256&&(b+=o[n>>28&15]+o[n>>24&15]+o[n>>20&15]+o[n>>16&15]+o[n>>12&15]+o[n>>8&15]+o[n>>4&15]+o[15&n]),g>=384&&(b+=o[p>>28&15]+o[p>>24&15]+o[p>>20&15]+o[p>>16&15]+o[p>>12&15]+o[p>>8&15]+o[p>>4&15]+o[15&p]+o[d>>28&15]+o[d>>24&15]+o[d>>20&15]+o[d>>16&15]+o[d>>12&15]+o[d>>8&15]+o[d>>4&15]+o[15&d]+o[l>>28&15]+o[l>>24&15]+o[l>>20&15]+o[l>>16&15]+o[l>>12&15]+o[l>>8&15]+o[l>>4&15]+o[15&l]+o[c>>28&15]+o[c>>24&15]+o[c>>20&15]+o[c>>16&15]+o[c>>12&15]+o[c>>8&15]+o[c>>4&15]+o[15&c]),512==g&&(b+=o[u>>28&15]+o[u>>24&15]+o[u>>20&15]+o[u>>16&15]+o[u>>12&15]+o[u>>8&15]+o[u>>4&15]+o[15&u]+o[y>>28&15]+o[y>>24&15]+o[y>>20&15]+o[y>>16&15]+o[y>>12&15]+o[y>>8&15]+o[y>>4&15]+o[15&y]+o[f>>28&15]+o[f>>24&15]+o[f>>20&15]+o[f>>16&15]+o[f>>12&15]+o[f>>8&15]+o[f>>4&15]+o[15&f]+o[m>>28&15]+o[m>>24&15]+o[m>>20&15]+o[m>>16&15]+o[m>>12&15]+o[m>>8&15]+o[m>>4&15]+o[15&m]),b},b.prototype.toString=b.prototype.hex,b.prototype.digest=function(){this.finalize();var t=this.h0h,e=this.h0l,s=this.h1h,i=this.h1l,h=this.h2h,r=this.h2l,a=this.h3h,n=this.h3l,o=this.h4h,p=this.h4l,d=this.h5h,l=this.h5l,c=this.h6h,u=this.h6l,y=this.h7h,f=this.h7l,m=this.bits,g=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,s>>24&255,s>>16&255,s>>8&255,255&s,i>>24&255,i>>16&255,i>>8&255,255&i,h>>24&255,h>>16&255,h>>8&255,255&h,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a];return m>=256&&g.push(n>>24&255,n>>16&255,n>>8&255,255&n),m>=384&&g.push(o>>24&255,o>>16&255,o>>8&255,255&o,p>>24&255,p>>16&255,p>>8&255,255&p,d>>24&255,d>>16&255,d>>8&255,255&d,l>>24&255,l>>16&255,l>>8&255,255&l),512==m&&g.push(c>>24&255,c>>16&255,c>>8&255,255&c,u>>24&255,u>>16&255,u>>8&255,255&u,y>>24&255,y>>16&255,y>>8&255,255&y,f>>24&255,f>>16&255,f>>8&255,255&f),g},b.prototype.array=b.prototype.digest,b.prototype.arrayBuffer=function(){this.finalize();var t=this.bits,e=new ArrayBuffer(t/8),s=new DataView(e);return s.setUint32(0,this.h0h),s.setUint32(4,this.h0l),s.setUint32(8,this.h1h),s.setUint32(12,this.h1l),s.setUint32(16,this.h2h),s.setUint32(20,this.h2l),s.setUint32(24,this.h3h),t>=256&&s.setUint32(28,this.h3l),t>=384&&(s.setUint32(32,this.h4h),s.setUint32(36,this.h4l),s.setUint32(40,this.h5h),s.setUint32(44,this.h5l)),512==t&&(s.setUint32(48,this.h6h),s.setUint32(52,this.h6l),s.setUint32(56,this.h7h),s.setUint32(60,this.h7l)),e},b.prototype.clone=function(){var t=new b(this.bits,!1);return this.copyTo(t),t},b.prototype.copyTo=function(t){var e=0,s=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(e=0;e<s.length;++e)t[s[e]]=this[s[e]];for(e=0;e<this.blocks.length;++e)t.blocks[e]=this.blocks[e]},v.prototype=new b,v.prototype.finalize=function(){if(b.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();b.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(t),b.prototype.finalize.call(this)}},v.prototype.clone=function(){var t=new v([],this.bits,!1);this.copyTo(t),t.inner=this.inner;for(var e=0;e<this.oKeyPad.length;++e)t.oKeyPad[e]=this.oKeyPad[e];return t};var w=f(512);w.sha512=w,w.sha384=f(384),w.sha512_256=f(256),w.sha512_224=f(224),w.sha512.hmac=g(512),w.sha384.hmac=g(384),w.sha512_256.hmac=g(256),w.sha512_224.hmac=g(224),a?t.exports=w:(h.sha512=w.sha512,h.sha384=w.sha384,h.sha512_256=w.sha512_256,h.sha512_224=w.sha512_224)}()}));let s;function i(t){return{messageId:t.messageId,statusCode:t.statusCode,statusDescription:t.statusDescription,utr:t.utr,errorCode:t.errorCode,errorDescription:t.errorDescription,debugRequest:t.debugRequest,debugResponse:t.debugResponse}}!function(e){class s{constructor(){t(this,"messageId",void 0),t(this,"transactionId",void 0),t(this,"statusCode",void 0),t(this,"statusDescription",void 0),t(this,"utr",void 0),t(this,"URL",void 0),t(this,"EMail",void 0),t(this,"errorCode",void 0),t(this,"errorDescription",void 0),t(this,"debugRequest",void 0),t(this,"debugResponse",void 0),this.errorCode="",this.statusCode=""}}function i(t){var e=new RegExp("^<pre>(.*?)</pre>$","ims").exec(t);let s={};if(e&&2==e.length){let t=e[1];t.startsWith("Array")?(s.ErrorCode="0",t.split(/\n/g).forEach((function(t){let e=/\[(.*?)\]\s+=>\s+(.*?)$/.exec(t);e&&3==e.length&&(s[e[1]]=e[2])}))):(s.ErrorCode="101",s.Error=t)}else s.ErrorCode="100",s.Error="unknown answer";return s}e.PayUResponse=s,e.payuParseResp=i;e.PayU=class{constructor(e,s,i){t(this,"_endpoint",void 0),t(this,"_merchantId",void 0),t(this,"_salt",void 0),this._endpoint=e,this._merchantId=s,this._salt=i}createInvoice(t){var e=JSON.stringify(t);let h=(void 0)(`${this._merchantId}|create_invoice|${e}|${this._salt}`),r="",a=[];a.push(encodeURIComponent("key")+"="+encodeURIComponent(this._merchantId)),a.push(encodeURIComponent("command")+"="+encodeURIComponent("create_invoice")),a.push(encodeURIComponent("hash")+"="+encodeURIComponent(h)),a.push(encodeURIComponent("var1")+"="+encodeURIComponent(e)),r=a.join("&").replace(/%20/g,"+");var n=this._endpoint;return new Promise((e,h)=>{var a=new s;a.messageId=t.txnid,a.debugRequest=r,a.errorCode="0";var o=new XMLHttpRequest;o.onreadystatechange=function(){try{if(4!==o.readyState)return;if(200!==o.status)throw new Error("Failed with status "+o.status+"; "+o.responseText);a.debugResponse=o.responseText;const t=i(o.responseText);t.Error?(a.errorCode=t.ErrorCode,a.errorDescription=t.Error,a.statusCode="100"):(a.transactionId=t["Transaction Id"],a.URL=t.URL,a.EMail=t["Email Id"]),e(a)}catch(t){a.errorCode="-1",a.errorDescription=t.message,h(a)}},o.open("POST",n),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(r)})}}}(s||(s={})),metadata={systemName:"PayU API",displayName:"PayU API",description:"PayU integration API",configuration:{EndpointUrl:{displayName:"PayU endpoint Url",type:"string",value:"https://test.payu.in/merchant/postservice.php?form=1"},MerchantId:{displayName:"PayU MerchantId",type:"string",value:"eekig4"},SALT:{displayName:"PayU Merchant SALT",type:"string",value:"KsnWno3F"},EMailTemplateId:{displayName:"PayU EMail Template Id",type:"string",value:"1449"},SMSTemplateId:{displayName:"PayU SMS Template Id",type:"string",value:"1448"},ValidationPeriod:{displayName:"PayU Validation Period",type:"string",value:"6"},DoSendSMS:{displayName:"PayU Send SMS on create_invoice",type:"string",value:"1"},DoSendEmail:{displayName:"PayU Send Email on create_invoice",type:"string",value:"1"}}},ondescribe=async function({configuration:t}){postSchema({objects:{PayU:{displayName:"PayU payment API",description:"PayU payment API",properties:{messageId:{displayName:"messageId",type:"string"},statusCode:{displayName:"statusCode",type:"string"},statusDescription:{displayName:"statusDescription",type:"string"},errorCode:{displayName:"errorCode",type:"string"},errorDescription:{displayName:"errorDescription",type:"string"},debugRequest:{displayName:"debugRequest",type:"string"},debugResponse:{displayName:"debugResponse",type:"string"},utr:{displayName:"utr",type:"string"},version:{displayName:"version",type:"string"},timeout:{displayName:"timeout (minutes)",type:"number"},transactionId:{displayName:"transactionId",type:"string"}},methods:{CreateInvoice:{displayName:"Perform payment request",type:"execute",parameters:{pTransactionId:{displayName:"pTransactionId",description:"Transaction Id",type:"string"},pProductInfo:{displayName:"pProductInfo",description:"This parameter should contain a brief product description. It should be a string describing the product",type:"string"},pAmount:{displayName:"pAmount",description:"Transaction amount",type:"string"},pFirstName:{displayName:"pFirstName",description:"first name of the customer",type:"string"},pLastName:{displayName:"pLastName",description:"last name of the customer",type:"string"},pEmail:{displayName:"pEmail",description:"email of the customer",type:"string"},pPhone:{displayName:"pPhone",description:"The phone number of the customer",type:"string"},pAddress1:{displayName:"pAddress1",description:"Address line #1",type:"string"},pCity:{displayName:"pCity",description:"City",type:"string"},pState:{displayName:"pCity",description:"State",type:"string"},pCountry:{displayName:"pCity",description:"Country",type:"string"},pZip:{displayName:"pZip",description:"ZIP Code",type:"string"}},requiredParameters:["pTransactionId","pProductInfo","pAmount","pFirstName","pEmail","pAddress1","pCity","pState","pCountry","pZip"],outputs:["messageId","statusCode","statusDescription","errorCode","errorDescription","debugRequest","debugResponse"]},GetTransactionId:{displayName:"Generate new transactionId",type:"read",parameters:{pLeadNumber:{displayName:"pLeadNumber",description:"Lead Number",type:"string"},pProductType:{displayName:"pProductType",description:"Type of product",type:"string"}},requiredParameters:["pLeadNumber","pProductType"],outputs:["transactionId"]},GetVersion:{displayName:"Get gateway version",type:"read",outputs:["version"]}}}}})},onexecute=async function({objectName:t,methodName:e,parameters:h,properties:r,configuration:a,schema:n}){try{switch(t){case"PayU":await async function(t,e,h,r){switch(t){case"CreateInvoice":await function(t,e){var h=e.EndpointUrl,r=e.MerchantId,a=e.SALT;let n={amount:t.pAmount,txnid:t.pTransactionId,productinfo:t.pProductInfo,firstname:t.pFirstName,lastname:t.pLastName,email:t.pEmail,phone:t.pPhone,address1:t.pAddress1,city:t.pCity,state:t.pState,country:t.pCountry,zipcode:t.pZip,template_id:e.EMailTemplateId,sms_template_id:e.SMSTemplateId,validation_period:e.ValidationPeriod,send_email_now:e.DoSendEmail,send_sms:e.DoSendSMS};return new Promise((t,e)=>{new s.PayU(h,r,a).createInvoice(n).then(e=>{console.log(e),postResult(i(e)),t()}).catch(t=>{console.log(t),postResult(i(t)),e(t)})})}(h,r);break;case"GetTransactionId":await function(t,e){return new Promise((e,s)=>{var i=t.pLeadNumber.toString(),h=t.pProductType.toString();i=i.substr(0,9).padStart(9,"0"),h=h.substr(0,4).padStart(4,"0");var r=function(t){for(var e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=s.length,h=0;h<t;h++)e+=s.charAt(Math.floor(Math.random()*i));return e}(7);"test123"==t.pLeadNumber.toString()&&(r="123456789");var a=`${i}${h}${r}`;a=(a=a.split("&").join("_")).split(" ").join("_"),postResult({transactionId:a}),e()})}(h);break;case"GetVersion":await new Promise((t,e)=>{postResult({version:"202011211549"})});break;default:throw new Error("The method "+t+" is not supported.")}}(e,0,h,a);break;default:throw new Error("The object "+t+" is not supported.")}}catch(t){postResult({statusCode:"Exception",statusDescription:t.message,errorCode:"Exception",errorDescription:t.stack})}}}();
//# sourceMappingURL=index.js.map
